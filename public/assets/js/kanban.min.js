(()=>{"use strict";var t,e,a,n,s,i={905:(t,e,a)=>{a.a(t,(async t=>{a.d(e,{Z:()=>s});const n=fetch("assets/data/config.json").then((t=>t.json())),s=await n;t()}),1)},123:(t,e,a)=>{a.a(t,(async t=>{var e=a(905),n=a(519),s=a(466),i=a(806),o=a(776),r=a(628),l=a(887),d=t([r,e]);[r,e]=d.then?await d:d,(new class{constructor(){this.data=e.Z,this.effects=new n.z,this.events=new s.z,this.interaction=new i.U,this.localData=new l.i(this.data.localData)}mount(){if(this.data){this.localData.readField(this.data.dataName)||this.localData.destroy(this.data.localData.name);let t=this.data.defaultKanbanName,e=this.localData.read(this.data.localData.name);if(e){let a=JSON.parse(e)[this.data.dataName][0].name;a&&(t=a)}let a=[{name:"heading",value:t}],n=document.getElementById(this.data.templateId).innerHTML;n=new o.Y(a,n).compile(),document.body.innerHTML=n;const s=new URLSearchParams(location.search);if("true"!==s.get("ldadmin")&&(document.getElementById(this.data.localDataAdminId).style.display="none"),"reset"===s.get("action")&&(confirm("Are you sure you want to reset your data?")?this.localData.destroy(this.data.localData.name):location.href="?ldadmin=true"),new r.Z(this.data,document.querySelector(".kanban")),this.localData.updateView(),this.events.blur(this.data.headingId,(()=>{let t={},e=document.getElementById(this.data.headingId).textContent;e||(e=this.data.defaultKanbanName);let a=this.localData.read(this.data.localData.name);a?(a=JSON.parse(a),a[this.data.dataName][0].name=e,t=a):(t[this.data.dataName]=[],t[this.data.dataName].push({id:1,name:e})),this.localData.store(this.data.localData.name,JSON.stringify(t)),this.localData.updateView()})),this.events.click("localdata-copy",(()=>{this.interaction.copyClip(this.data.localData.viewId,"localdata-copy","Copied")})),this.events.click("localdata-save",(()=>{this.localData.saveView(),this.interaction.feedback("localdata-save","Saving")})),this.events.click(this.data.templateButtons.manageDataId,(()=>{this.localData.updateView(),this.effects.toggle(this.data.localDataAdminId)})),!0===this.data.enableCreds){try{document.getElementById("description").innerHTML=document.getElementsByName("description")[0].getAttribute("content")}catch(t){}try{document.getElementById("author").innerHTML=document.getElementsByName("author")[0].getAttribute("content")}catch(t){}}}}}).mount()}))},519:(t,e,a)=>{a.d(e,{z:()=>n});class n{toggle(t){const e=document.querySelectorAll(t+", #"+t+", ."+t)[0];"none"===e.style.display?e.style.display="":e.style.display="none"}}},466:(t,e,a)=>{a.d(e,{z:()=>n});class n{blur(t,e){const a=document.querySelectorAll(t+", #"+t+", ."+t)[0];a.addEventListener?a.addEventListener("blur",e):a.attachEvent&&a.attachEvent("onblur",e)}change(t,e){const a=document.querySelectorAll(t+", #"+t+", ."+t)[0];a.addEventListener?a.addEventListener("change",e):a.attachEvent&&a.attachEvent("onchange",e)}click(t,e){const a=document.querySelectorAll(t+", #"+t+", ."+t)[0];a.addEventListener?a.addEventListener("click",e):a.attachEvent&&a.attachEvent("onclick",e)}}},806:(t,e,a)=>{a.d(e,{U:()=>n});class n{copyClip(t,e,a,n){const s=document.querySelectorAll(t+", #"+t+", ."+t)[0];s.select(),s.setSelectionRange(0,99999),navigator.clipboard.writeText(s.value),this.feedback(e,a,n)}feedback(t,e,a){const n=document.querySelectorAll(t+", #"+t+", ."+t)[0];let s=1e3,i=!1;if(n){let t=n.innerHTML;""!==t&&(i=!0),!1===i&&(t=n.value),n.disabled=!0,e&&(!0===i?n.innerHTML=e:n.value=e),n.focus(),a&&(s=a),setTimeout((function(){!0===i?n.innerHTML=t:n.value=t,n.disabled=!1}),s)}}}},776:(t,e,a)=>{a.d(e,{Y:()=>n});class n{constructor(t,e){this.data=t,this.input=e,this.tagPrefix="{{ ",this.tagSuffix=" }}"}compile(){let t=Object.values(this.data);for(let e of t)this.input=this.input.replace(new RegExp(this.tagPrefix+e.name+this.tagSuffix,"g"),e.value);return this.input}}},87:(t,e,a)=>{a.a(t,(async t=>{a.d(e,{Z:()=>r});var n=a(905),s=a(255),i=t([n]);const o=(n=(i.then?await i:i)[0]).Z;class r{static getItems(t){const e=l().find((e=>e.id==t));return e?e.items:[]}static insertItem(t,e){const a=l(),n=a.find((e=>e.id==t)),s={id:Math.floor(1e5*Math.random()),content:e};if(!n)throw new Error("Column does not exist.");return n.items.push(s),d(a),s}static updateItem(t,e){const a=l(),[n,s]=(()=>{for(const e of a){const a=e.items.find((e=>e.id==t));if(a)return[a,e]}})();if(!n)throw new Error("Item not found.");if(n.content=void 0===e.content?n.content:e.content,void 0!==e.columnId&&void 0!==e.position){const t=a.find((t=>t.id==e.columnId));if(!t)throw new Error("Target column not found.");s.items.splice(s.items.indexOf(n),1),t.items.splice(e.position,0,n)}d(a)}static deleteItem(t){const e=l();for(const a of e){const e=a.items.find((e=>e.id==t));e&&a.items.splice(a.items.indexOf(e),1)}d(e)}}function l(){let t=function(t){let e=[],a=Object.values(t);for(let t of a)e.push({id:t.id,items:[]});return e}(o.swimlanes),e=o.dataName,a=new s.V(o.localData).read(o.localData.name);if(a){let n=JSON.parse(a)[e][0].content;n&&(t=n)}return t}function d(t){let e={},a=o.dataName,n=document.getElementById(o.headingId).textContent;const i=new s.V(o.localData);n||(n=o.defaultKanbanName),e[a]=[],e[a].push({id:1,name:n,content:t}),i.store(o.localData.name,JSON.stringify(e))}}))},628:(t,e,a)=>{a.a(t,(async t=>{a.d(e,{Z:()=>o});var n=a(423),s=a(255),i=t([n]);n=(i.then?await i:i)[0];class o{constructor(t,e){this.data=t,this.swimlanes=t.swimlanes,this.root=e,this.localData=new s.V(this.data.localData);let a=Object.values(this.swimlanes);for(let t of a){const e=new n.Z(t.id,t.title);this.root.appendChild(e.elements.root)}}}}))},423:(t,e,a)=>{a.a(t,(async t=>{a.d(e,{Z:()=>r});var n=a(87),s=a(687),i=a(345),o=t([i,n,s]);[i,n,s]=o.then?await o:o;class r{constructor(t,e){const a=s.Z.createDropZone();this.elements={},this.elements.root=r.createRoot(),this.elements.title=this.elements.root.querySelector(".kanban__column-title"),this.elements.items=this.elements.root.querySelector(".kanban__column-items"),this.elements.addItem=this.elements.root.querySelector(".kanban__add-item"),this.elements.root.dataset.id=t,this.elements.title.textContent=e,this.elements.items.appendChild(a),this.elements.addItem.addEventListener("click",(()=>{const e=n.Z.insertItem(t,"");this.renderItem(e)})),n.Z.getItems(t).forEach((t=>{this.renderItem(t)}))}static createRoot(){const t=document.createRange();return t.selectNode(document.body),t.createContextualFragment('\n\t\t\t<div class="kanban__column col-sm-4">\n\t\t\t\t<div class="kanban__column-title"></div>\n\t\t\t\t<div class="kanban__column-items"></div>\n\t\t\t\t<button class="kanban__add-item" type="button">+ Add</button>\n\t\t\t</div>\n\t\t').children[0]}renderItem(t){const e=new i.Z(t.id,t.content);this.elements.items.appendChild(e.elements.root)}}}))},687:(t,e,a)=>{a.a(t,(async t=>{a.d(e,{Z:()=>i});var n=a(87),s=t([n]);n=(s.then?await s:s)[0];class i{static createDropZone(){const t=document.createRange();t.selectNode(document.body);const e=t.createContextualFragment('\n\t\t\t<div class="kanban__dropzone"></div>\n\t\t').children[0];return e.addEventListener("dragover",(t=>{t.preventDefault(),e.classList.add("kanban__dropzone--active")})),e.addEventListener("dragleave",(()=>{e.classList.remove("kanban__dropzone--active")})),e.addEventListener("drop",(t=>{t.preventDefault(),e.classList.remove("kanban__dropzone--active");const a=e.closest(".kanban__column"),s=Number(a.dataset.id),i=Array.from(a.querySelectorAll(".kanban__dropzone")).indexOf(e),o=Number(t.dataTransfer.getData("text/plain")),r=document.querySelector(`[data-id="${o}"]`),l=e.parentElement.classList.contains("kanban__item")?e.parentElement:e;r.contains(e)||(l.after(r),n.Z.updateItem(o,{columnId:s,position:i}))})),e}}}))},345:(t,e,a)=>{a.a(t,(async t=>{a.d(e,{Z:()=>o});var n=a(687),s=a(87),i=t([s,n]);[s,n]=i.then?await i:i;class o{constructor(t,e){const a=n.Z.createDropZone();this.elements={},this.elements.root=o.createRoot(),this.elements.input=this.elements.root.querySelector(".kanban__item-input"),this.elements.root.dataset.id=t,this.elements.input.innerText=e,this.content=e,this.elements.root.appendChild(a);const i=()=>{const e=this.elements.input.innerText.trim();e!=this.content&&(this.content=e,s.Z.updateItem(t,{content:this.content}))};this.elements.input.classList.add("kanban-collapse"),this.elements.input.addEventListener("blur",(()=>{this.elements.input.classList.add("kanban-collapse"),i()})),this.elements.root.addEventListener("click",(()=>{this.elements.input.classList.remove("kanban-collapse")})),this.elements.root.addEventListener("dblclick",(()=>{this.elements.input.classList.remove("kanban-collapse"),confirm("Are you sure you want to delete this item?")&&(s.Z.deleteItem(t),this.elements.input.removeEventListener("blur",i),this.elements.root.parentElement.removeChild(this.elements.root))})),this.elements.root.addEventListener("dragstart",(e=>{e.dataTransfer.setData("text/plain",t)})),this.elements.input.addEventListener("drop",(t=>{t.preventDefault()}))}static createRoot(){const t=document.createRange();return t.selectNode(document.body),t.createContextualFragment('\n\t\t\t<div class="kanban__item" draggable="true">\n\t\t\t\t<div class="kanban__item-input" contenteditable="true"></div>\n\t\t\t</div>\n\t\t').children[0]}}}))},887:(t,e,a)=>{a.d(e,{i:()=>s});var n=a(255);class s extends n.V{constructor(t){super(t),this.viewId=this.data.viewId}updateView(){if(this.viewId){let t=document.getElementById(this.viewId);if("undefined"!==t){let e=this.read(this.database);e||(e="",t.placeholder="No Data"),t.value=e}}}saveView(t){if(this.viewId){let t=!0,e=document.getElementById(this.viewId);if("undefined"!==e){let a=e.value.toString();this.validateJSON(a)||(t=!1),!0===t?this.store(this.database,a,this.persistentExpiry):(e.value="",e.placeholder="Error: Invalid Data",setTimeout((function(){e.value=a}),3e3))}}}}},255:(t,e,a)=>{a.d(e,{V:()=>n});class n{constructor(t){if(this.data=t,this.database=this.data.name,this.persistence=this.data.persistence,this.cookieStorage=this.data.cookieStorage,this.reset=this.data.reset,this.persistentExpiry=36500,this.lsSupport=!1,"undefined"!=typeof Storage)try{sessionStorage.setItem("sessionStorage","true"),this.lsSupport=!0}catch(t){}this.cookieStorage&&(this.lsSupport=!1),this.reset&&(this.destroy(),this.destroyCookie())}store(t,e,a){this.persistence&&(a=this.persistentExpiry),this.lsSupport?a&&a>0?localStorage.setItem(t,e):sessionStorage.setItem(t,e):a?this.storeCookie(t,e,a):this.storeCookie(t,e)}storeField(t,e,a){let n=this.read(this.database),s={};this.validateJSON(n)&&(s=JSON.parse(n)),s[t]=e,s=JSON.stringify(s),this.store(this.database,s,a)}read(t){let e;return this.lsSupport?localStorage.getItem(t)?e=localStorage.getItem(t):sessionStorage.getItem(t)&&(e=sessionStorage.getItem(t)):this.readCookie(t)&&(e=this.readCookie(t)),e}readField(t){let e=this.read(this.database);return this.validateJSON(e)?(e=JSON.parse(e),e[t]):e}destroy(t){this.lsSupport?t?(localStorage.removeItem(t),sessionStorage.removeItem(t)):(localStorage.clear(),sessionStorage.clear()):this.destroyCookie(t)}destroyField(t){if(t){let e,a=this.read(this.database);this.validateJSON(a)?(e=JSON.parse(a),delete e[t],e=JSON.stringify(e),sessionStorage.getItem(this.database)?this.store(this.database,e):(localStorage.getItem(this.database),this.store(this.database,e,this.persistentExpiry))):this.destroy(t)}else this.destroy()}storeCookie(t,e,a){e=encodeURIComponent(e);let n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);let s="; expires="+n.toGMTString();document.cookie=t+"="+e+s+"; path=/"}readCookie(t){let e=null,a=t+"=",n=document.cookie.split(";");for(let t=0,s=n.length;t<s;t++){let s=n[t];for(;" "===s.charAt(0);)s=s.substring(1,s.length);0===s.indexOf(a)&&(e=decodeURIComponent(s.substring(a.length,s.length)))}return e}destroyCookie(t){if(t)this.storeCookie(t,"",-1);else{let t=document.cookie.split(";"),e=t.length;for(let a=0;a<e;a++){let e=t[a],n=e.indexOf("="),s=n>-1?e.substr(0,n):e;document.cookie=s+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}}validateJSON(t){let e=!1;if(t)try{JSON.parse(t),e=!0}catch(t){}return e}}}},o={};function r(t){var e=o[t];if(void 0!==e)return e.exports;var a=o[t]={exports:{}};return i[t](a,a.exports,r),a.exports}t="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",a=t=>{t&&(t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},n=t=>!--t.r&&t(),s=(t,e)=>t?t.push(e):n(e),r.a=(i,o,r)=>{var l,d,c,h=r&&[],m=i.exports,u=!0,p=!1,v=(e,a,n)=>{p||(p=!0,a.r+=e.length,e.map(((e,s)=>e[t](a,n))),p=!1)},f=new Promise(((t,e)=>{c=e,d=()=>(t(m),a(h),h=0)}));f[e]=m,f[t]=(t,e)=>{if(u)return n(t);l&&v(l,t,e),s(h,t),f.catch(e)},i.exports=f,o((i=>{if(!i)return d();var o,r;l=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[t])return i;if(i.then){var o=[];i.then((t=>{r[e]=t,a(o),o=0}));var r={};return r[t]=(t,e)=>(s(o,t),i.catch(e)),r}}var l={};return l[t]=t=>n(t),l[e]=i,l})))(i);var c=new Promise(((t,a)=>{(o=()=>t(r=l.map((t=>t[e])))).r=0,v(l,o,a)}));return o.r?c:r})).then(d,c),u=!1},r.d=(t,e)=>{for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r(123)})();