(()=>{"use strict";var t,e,a,s,n,i={957:(t,e,a)=>{a.a(t,(async t=>{a.d(e,{g:()=>o});var s=a(905),n=a(123),i=t([n]);n=(i.then?await i:i)[0];class o{async load(){let t=await fetch(s.Z);if(200===t.status){let e=await t.json();new n.o(e).render()}}}}))},905:(t,e,a)=>{a.d(e,{Z:()=>s});const s="assets/api/config.json"},576:(t,e,a)=>{a.a(t,(async t=>{var e=a(957),s=t([e]);(new(e=(s.then?await s:s)[0]).g).load()}))},123:(t,e,a)=>{a.a(t,(async t=>{a.d(e,{o:()=>h});var s=a(519),n=a(466),i=a(806),o=a(326),r=a(776),d=a(628),l=a(887),c=t([d]);d=(c.then?await c:c)[0];class h{constructor(t){this.data=t.data[0].attributes,this.effects=new s.z,this.events=new n.z,this.interaction=new i.U,this.url=new o.J,this.localData=new l.i(this.data.localData)}render(){if(this.data){const t=this.localData.readField("data");t&&t[0].type===this.data.dataName||this.localData.destroy(this.data.localData.name);let e=this.data.defaultKanbanName,a=this.localData.read(this.data.localData.name);if(a){let t=JSON.parse(a).data[0].meta.name;t&&(e=t)}let s=[{name:"heading",value:e}],n=document.getElementById(this.data.templateId).innerHTML;if(n=new r.Y(s,n).compile(),document.body.innerHTML=n,"true"!==this.url.getQuerystring("ldadmin")&&(document.getElementById(this.data.localDataAdminId).style.display="none"),"reset"===this.url.getQuerystring("action")&&(confirm("Are you sure you want to reset your data?")?(this.localData.destroy(this.data.localData.name),location.href="./"):location.href="./"),new d.p(this.data,document.querySelector(".kanban")).render(),this.localData.updateView(),this.events.blur(this.data.headingId,(()=>{let t={},e=document.getElementById(this.data.headingId).textContent;e||(e=this.data.defaultKanbanName);let a=this.localData.read(this.data.localData.name);a?(a=JSON.parse(a),a.data[0].meta.name=e,a.data[0].meta.update=Date.now().toString(),t=a):(t.data=[],t.data[0]={type:this.data.dataName,id:Math.floor(1e5*Math.random()).toString(),meta:{name:e,update:Date.now().toString()},attributes:{}}),this.localData.store(this.data.localData.name,JSON.stringify(t)),this.localData.updateView()})),this.events.click("localdata-copy",(()=>{this.interaction.copyClip(this.data.localData.viewId,"localdata-copy","Copied")})),this.events.click("localdata-save",(()=>{this.localData.saveView(),this.interaction.feedback("localdata-save","Saving")})),this.events.click(this.data.templateButtons.manageDataId,(()=>{this.localData.updateView(),this.effects.toggle(this.data.localDataAdminId)})),!0===this.data.enableCreds){try{document.getElementById("description").innerHTML=document.getElementsByName("description")[0].getAttribute("content")}catch(t){}try{document.getElementById("author").innerHTML=document.getElementsByName("author")[0].getAttribute("content")}catch(t){}}}}}}))},519:(t,e,a)=>{a.d(e,{z:()=>s});class s{toggle(t){const e=document.querySelectorAll(t+", #"+t+", ."+t)[0];"none"===e.style.display?e.style.display="":e.style.display="none"}}},466:(t,e,a)=>{a.d(e,{z:()=>s});class s{blur(t,e){const a=document.querySelectorAll(t+", #"+t+", ."+t)[0];a.addEventListener?a.addEventListener("blur",e):a.attachEvent&&a.attachEvent("onblur",e)}change(t,e){const a=document.querySelectorAll(t+", #"+t+", ."+t)[0];a.addEventListener?a.addEventListener("change",e):a.attachEvent&&a.attachEvent("onchange",e)}click(t,e){const a=document.querySelectorAll(t+", #"+t+", ."+t)[0];a.addEventListener?a.addEventListener("click",e):a.attachEvent&&a.attachEvent("onclick",e)}}},806:(t,e,a)=>{a.d(e,{U:()=>s});class s{copyClip(t,e,a,s){const n=document.querySelectorAll(t+", #"+t+", ."+t)[0];n.select(),n.setSelectionRange(0,99999),navigator.clipboard.writeText(n.value),this.feedback(e,a,s)}feedback(t,e,a=1e3){const s=document.querySelectorAll(t+", #"+t+", ."+t)[0];if(s){let t=s.textContent,n=!!t;n||(t=s.value),s.disabled=!0,e&&(!0===n?s.textContent=e:s.value=e),s.focus(),setTimeout((()=>{!0===n?s.textContent=t:s.value=t,s.disabled=!1}),a)}}}},776:(t,e,a)=>{a.d(e,{Y:()=>s});class s{constructor(t,e,a="{{",s="}}"){this.data=t,this.input=e,this.tagPrefix=a,this.tagSuffix=s}compile(){let t=Object.values(this.data);for(let e of t)this.input=this.input.replace(new RegExp(this.tagPrefix+e.name+this.tagSuffix,"g"),e.value);return this.input}}},326:(t,e,a)=>{a.d(e,{J:()=>s});class s{constructor(t={hashType:"string",hashLimit:4,querystringField:"id",querystringType:"string"}){this.data=t,this.hashType=this.data.hashType,this.hashLimit=this.data.hashLimit,this.querystringField=this.data.querystringField,this.querystringType=this.data.querystringType}getHash(t,e=this.hashType,a=this.hashLimit){const s=t?"/"+t+"/":"/",n=location.hash?location.hash.substring(0).split(s,a):[],i=n[1]?n[1]:null;return"int"===e?Math.abs(Math.floor(i)):i}getQuerystring(t=this.querystringField,e=this.querystringType){const a=new URLSearchParams(location.search).get(t);return"int"===e?Math.abs(Math.floor(a)):a}}},87:(t,e,a)=>{a.a(t,(async t=>{a.d(e,{Z:()=>r});var s=a(203),n=a(728),i=t([s]);const o=(s=(i.then?await i:i)[0]).Z.data[0].attributes;class r{static getItems(t){const e=d().find((e=>e.id==t));return e?e.items:[]}static insertItem(t,e){const a=d(),s=a.find((e=>e.id==t)),n={id:Math.floor(1e5*Math.random()),content:e};if(!s)throw new Error("Column does not exist.");return s.items.push(n),l(a),n}static updateItem(t,e){const a=d(),[s,n]=(()=>{for(const e of a){const a=e.items.find((e=>e.id==t));if(a)return[a,e]}})();if(!s)throw new Error("Item not found.");if(s.content=void 0===e.content?s.content:e.content,void 0!==e.columnId&&void 0!==e.position){const t=a.find((t=>t.id==e.columnId));if(!t)throw new Error("Target column not found.");n.items.splice(n.items.indexOf(s),1),t.items.splice(e.position,0,s)}l(a)}static deleteItem(t){const e=d();for(const a of e){const e=a.items.find((e=>e.id==t));e&&a.items.splice(a.items.indexOf(e),1)}l(e)}}function d(){let t=function(t){let e=[],a=Object.values(t);for(let t of a)e.push({id:t.id,items:[]});return e}(o.swimlanes),e=new n.V(o.localData).read(o.localData.name);if(e){let a=JSON.parse(e).data[0].attributes.content;a&&(t=a)}return t}function l(t){let e={},a=o.dataName,s=Math.floor(1e5*Math.random()).toString(),i=document.getElementById(o.headingId).textContent;const r=new n.V(o.localData);let d=r.read(o.localData.name);d&&(s=JSON.parse(d).data[0].id),i||(i=o.defaultKanbanName),e.data=[],e.data[0]={type:a,id:s,meta:{name:i,update:Date.now().toString()},attributes:{content:t}},r.store(o.localData.name,JSON.stringify(e))}}))},203:(t,e,a)=>{a.a(t,(async t=>{a.d(e,{Z:()=>i});var s=a(905);const n=fetch(s.Z).then((t=>t.json())),i=await n;t()}),1)},628:(t,e,a)=>{a.a(t,(async t=>{a.d(e,{p:()=>o});var s=a(423),n=a(728),i=t([s]);s=(i.then?await i:i)[0];class o{constructor(t,e){this.data=t,this.swimlanes=t.swimlanes,this.root=e,this.localData=new n.V(this.data.localData)}render(){let t=Object.values(this.swimlanes);for(let e of t){const t=new s.Z(e.id,e.title);this.root.appendChild(t.elements.root)}}}}))},423:(t,e,a)=>{a.a(t,(async t=>{a.d(e,{Z:()=>r});var s=a(87),n=a(687),i=a(345),o=t([i,s,n]);[i,s,n]=o.then?await o:o;class r{constructor(t,e){const a=n.Z.createDropZone();this.elements={},this.elements.root=r.createRoot(),this.elements.title=this.elements.root.querySelector(".kanban__column-title"),this.elements.items=this.elements.root.querySelector(".kanban__column-items"),this.elements.addItem=this.elements.root.querySelector(".kanban__add-item"),this.elements.root.dataset.id=t,this.elements.title.textContent=e,this.elements.items.appendChild(a),this.elements.addItem.addEventListener("click",(()=>{const e=s.Z.insertItem(t,"");this.renderItem(e)})),s.Z.getItems(t).forEach((t=>{this.renderItem(t)}))}static createRoot(){const t=document.createRange();return t.selectNode(document.body),t.createContextualFragment('\n\t\t\t<div class="kanban__column col-sm-4">\n\t\t\t\t<div class="kanban__column-title"></div>\n\t\t\t\t<div class="kanban__column-items"></div>\n\t\t\t\t<button class="kanban__add-item" type="button">+ Add</button>\n\t\t\t</div>\n\t\t').children[0]}renderItem(t){const e=new i.Z(t.id,t.content);this.elements.items.appendChild(e.elements.root)}}}))},687:(t,e,a)=>{a.a(t,(async t=>{a.d(e,{Z:()=>i});var s=a(87),n=t([s]);s=(n.then?await n:n)[0];class i{static createDropZone(){const t=document.createRange();t.selectNode(document.body);const e=t.createContextualFragment('\n\t\t\t<div class="kanban__dropzone"></div>\n\t\t').children[0];return e.addEventListener("dragover",(t=>{t.preventDefault(),e.classList.add("kanban__dropzone--active")})),e.addEventListener("dragleave",(()=>{e.classList.remove("kanban__dropzone--active")})),e.addEventListener("drop",(t=>{t.preventDefault(),e.classList.remove("kanban__dropzone--active");const a=e.closest(".kanban__column"),n=Number(a.dataset.id),i=Array.from(a.querySelectorAll(".kanban__dropzone")).indexOf(e),o=Number(t.dataTransfer.getData("text/plain")),r=document.querySelector(`[data-id="${o}"]`),d=e.parentElement.classList.contains("kanban__item")?e.parentElement:e;r.contains(e)||(d.after(r),s.Z.updateItem(o,{columnId:n,position:i}))})),e}}}))},345:(t,e,a)=>{a.a(t,(async t=>{a.d(e,{Z:()=>o});var s=a(687),n=a(87),i=t([n,s]);[n,s]=i.then?await i:i;class o{constructor(t,e){const a=s.Z.createDropZone();this.elements={},this.elements.root=o.createRoot(),this.elements.input=this.elements.root.querySelector(".kanban__item-input"),this.elements.root.dataset.id=t,this.elements.input.innerText=e,this.content=e,this.elements.root.appendChild(a);const i=()=>{const e=this.elements.input.innerText.trim();e!=this.content&&(this.content=e,n.Z.updateItem(t,{content:this.content}))};this.elements.input.classList.add("kanban-collapse"),this.elements.input.addEventListener("blur",(()=>{this.elements.input.classList.add("kanban-collapse"),i()})),this.elements.root.addEventListener("click",(()=>{this.elements.input.classList.remove("kanban-collapse")})),this.elements.root.addEventListener("dblclick",(()=>{this.elements.input.classList.remove("kanban-collapse"),confirm("Are you sure you want to delete this item?")&&(n.Z.deleteItem(t),this.elements.input.removeEventListener("blur",i),this.elements.root.parentElement.removeChild(this.elements.root))})),this.elements.root.addEventListener("dragstart",(e=>{e.dataTransfer.setData("text/plain",t)})),this.elements.input.addEventListener("drop",(t=>{t.preventDefault()}))}static createRoot(){const t=document.createRange();return t.selectNode(document.body),t.createContextualFragment('\n\t\t\t<div class="kanban__item" draggable="true">\n\t\t\t\t<div class="kanban__item-input" contenteditable="true"></div>\n\t\t\t</div>\n\t\t').children[0]}}}))},887:(t,e,a)=>{a.d(e,{i:()=>n});var s=a(728);class n extends s.V{constructor(t){super(t),this.viewId=this.data.viewId}updateView(){if(this.viewId){let t=document.getElementById(this.viewId);if(t){let e=this.read(this.database);e||(e="",t.placeholder="No Data"),t.value=e}}}saveView(t=!0){if(this.viewId){let e=document.getElementById(this.viewId);if(e){let a=!0,s=e.value.toString();t&&!this.schema.validateJSON(s)&&(a=!1),this.JSONAPI&&!this.schema.validateJSONAPI(s)&&(a=!1),a?this.store(this.database,s,this.persistentExpiry):(e.value="",e.placeholder="Error: Invalid Data",setTimeout((function(){e.value=s}),3e3))}}}}},728:(t,e,a)=>{a.d(e,{V:()=>n});class s{constructor(t={dataArray:!0}){this.data=t,this.dataArray=this.data.dataArray}validateJSON(t){let e=!1;if(t)try{JSON.parse(t),e=!0}catch(t){}return e}validateJSONAPI(t,e=this.dataArray){let a=!1;if(this.validateJSON(t)){const s=JSON.parse(t);s.data&&(e&&Array.isArray(s.data)?"string"==typeof s.data[0].type&&"string"==typeof s.data[0].id&&"object"==typeof s.data[0].attributes&&(a=!0):e||"object"!=typeof s.data||"string"==typeof s.data.type&&"string"==typeof s.data.id&&"object"==typeof s.data.attributes&&(a=!0))}return a}}class n{constructor(t){if(this.data=t,this.database=this.data.name,this.persistence=this.data.persistence,this.cookieStorage=this.data.cookieStorage,this.reset=this.data.reset,this.JSONAPI=this.data.JSONAPI,this.persistentExpiry=36500,this.lsSupport=!1,this.schema=new s,"undefined"!=typeof Storage)try{sessionStorage.setItem("sessionStorage","true"),this.lsSupport=!0}catch(t){}this.cookieStorage&&(this.lsSupport=!1),this.reset&&(this.destroy(),this.destroyCookie())}store(t,e,a){a=this.persistence?this.persistentExpiry:a,this.lsSupport?a&&a>0?localStorage.setItem(t,e):sessionStorage.setItem(t,e):a?this.storeCookie(t,e,a):this.storeCookie(t,e)}storeField(t,e,a){let s=this.read(this.database),n=this.JSONAPI?{data:[{type:this.JSONAPI.type,id:this.JSONAPI.id,attributes:{}}]}:{},i=this.schema.validateJSON(s)?JSON.parse(s):n;this.JSONAPI?i.data[0].attributes[t]=e:i[t]=e,i=JSON.stringify(i),this.store(this.database,i,a)}read(t){return this.lsSupport?localStorage.getItem(t)?localStorage.getItem(t):sessionStorage.getItem(t)?sessionStorage.getItem(t):void 0:this.readCookie(t)?this.readCookie(t):void 0}readField(t){let e=this.read(this.database);return this.schema.validateJSON(e)?this.JSONAPI?JSON.parse(e).data[0].attributes[t]:JSON.parse(e)[t]:e}destroy(t){this.lsSupport?t?(localStorage.removeItem(t),sessionStorage.removeItem(t)):(localStorage.clear(),sessionStorage.clear()):this.destroyCookie(t)}destroyField(t){if(t){let e=this.read(this.database);if(this.schema.validateJSON(e)){let a=JSON.parse(e);this.JSONAPI?delete a.data[0].attributes[t]:delete a[t],a=JSON.stringify(a),sessionStorage.getItem(this.database)?this.store(this.database,a):(localStorage.getItem(this.database),this.store(this.database,a,this.persistentExpiry))}else this.destroy(t)}else this.destroy()}storeCookie(t,e,a){e=encodeURIComponent(e);let s=new Date;s.setTime(s.getTime()+24*a*60*60*1e3);let n="; expires="+s.toGMTString();document.cookie=t+"="+e+n+"; path=/"}readCookie(t){const e=document.cookie.split(";").reduce(((t,e)=>{const[a,s]=e.split("=").map((t=>t.trim()));return a&&s&&(t[a]=decodeURIComponent(s)),t}),{});return t?e[t]||"":e}destroyCookie(t){if(t)this.storeCookie(t,"",-1);else{const t=document.cookie.split(";");for(let e of t){let t=e.indexOf("="),a=t>-1?e.substring(0,t):e;document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}}}}},o={};function r(t){var e=o[t];if(void 0!==e)return e.exports;var a=o[t]={exports:{}};return i[t](a,a.exports,r),a.exports}t="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",a=t=>{t&&(t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},s=t=>!--t.r&&t(),n=(t,e)=>t?t.push(e):s(e),r.a=(i,o,r)=>{var d,l,c,h=r&&[],m=i.exports,u=!0,p=!1,y=(e,a,s)=>{p||(p=!0,a.r+=e.length,e.map(((e,n)=>e[t](a,s))),p=!1)},v=new Promise(((t,e)=>{c=e,l=()=>(t(m),a(h),h=0)}));v[e]=m,v[t]=(t,e)=>{if(u)return s(t);d&&y(d,t,e),n(h,t),v.catch(e)},i.exports=v,o((i=>{if(!i)return l();var o,r;d=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[t])return i;if(i.then){var o=[];i.then((t=>{r[e]=t,a(o),o=0}));var r={};return r[t]=(t,e)=>(n(o,t),i.catch(e)),r}}var d={};return d[t]=t=>s(t),d[e]=i,d})))(i);var c=new Promise(((t,a)=>{(o=()=>t(r=d.map((t=>t[e])))).r=0,y(d,o,a)}));return o.r?c:r})).then(l,c),u=!1},r.d=(t,e)=>{for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r(576)})();